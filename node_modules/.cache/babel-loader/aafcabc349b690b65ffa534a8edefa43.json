{"ast":null,"code":"var _jsxFileName = \"D:\\\\Julieth-Campos\\\\PSO\\\\src\\\\components\\\\EngagementComponent.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport \"./componentCSS/engagementComponent.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EngagementComponent = () => {\n  _s();\n  const [arousal, setArousal] = useState(0);\n  const [valence, setValence] = useState(0);\n  const [attention, setAttention] = useState(0);\n  const timeout = useRef(undefined);\n  useEffect(() => {\n    function resetTimeout() {\n      let to = timeout.current;\n      clearTimeout(to);\n      to = setTimeout(() => {\n        setAllToZero();\n      }, 3000);\n      timeout.current = to;\n    }\n    function bindEvent() {\n      window.addEventListener(\"CY_FACE_AROUSAL_VALENCE_RESULT\", handleArousalValenceEvents);\n      window.addEventListener(\"CY_FACE_ATTENTION_RESULT\", handleAttentionEvents);\n    }\n    function handleArousalValenceEvents(evt) {\n      setValence(Math.abs(evt.detail.output.valence * 100) || 0);\n      setArousal(Math.abs(evt.detail.output.arousal * 100) || 0);\n      resetTimeout();\n    }\n    function handleAttentionEvents(evt) {\n      if (evt.detail.output.attention > 0.1) {\n        setAttention(evt.detail.output.attention * 100 || 0);\n        resetTimeout();\n      }\n    }\n    function setAllToZero() {\n      setArousal(0);\n      setValence(0);\n      setAttention(0);\n    }\n    bindEvent();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: \"20px\"\n      },\n      children: \"Engagement Component:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"rangesContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rangeContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"1\",\n              max: \"100\",\n              value: arousal || 0,\n              onChange: () => {},\n              className: \"slider\",\n              color: \"#E29219\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"title\",\n            children: \"Arousal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rangeContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"1\",\n              max: \"100\",\n              value: valence || 0,\n              onChange: () => {},\n              className: \"slider\",\n              color: \"#19E282\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"title\",\n            children: \"Valence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rangeContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"1\",\n              max: \"100\",\n              value: attention || 0,\n              onChange: () => {},\n              className: \"slider\",\n              color: \"#FFFFFF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"title\",\n            children: \"Attention\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(EngagementComponent, \"KE0XBKAwJQ2YOrFkw9cXKg9exrM=\");\n_c = EngagementComponent;\nexport default EngagementComponent;\nvar _c;\n$RefreshReg$(_c, \"EngagementComponent\");","map":{"version":3,"names":["useState","useEffect","useRef","EngagementComponent","arousal","setArousal","valence","setValence","attention","setAttention","timeout","undefined","resetTimeout","to","current","clearTimeout","setTimeout","setAllToZero","bindEvent","window","addEventListener","handleArousalValenceEvents","handleAttentionEvents","evt","Math","abs","detail","output","fontSize"],"sources":["D:/Julieth-Campos/PSO/src/components/EngagementComponent.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport \"./componentCSS/engagementComponent.css\"\r\n\r\n\r\nconst EngagementComponent = () => {\r\n  const [arousal, setArousal] = useState(0);\r\n  const [valence, setValence] = useState(0);\r\n  const [attention, setAttention] = useState(0);\r\n  const timeout = useRef(undefined);\r\n\r\n  useEffect(() => {\r\n    function resetTimeout() {\r\n      let to = timeout.current;\r\n      clearTimeout(to);\r\n      to =setTimeout(() => {\r\n        setAllToZero();\r\n      }, 3000)\r\n\r\n      timeout.current= to;\r\n    }\r\n  \r\n    function bindEvent(){\r\n        window.addEventListener(\r\n            \"CY_FACE_AROUSAL_VALENCE_RESULT\",\r\n            handleArousalValenceEvents\r\n          );\r\n        window.addEventListener(\"CY_FACE_ATTENTION_RESULT\", handleAttentionEvents);\r\n    }\r\n    \r\n    function handleArousalValenceEvents (evt) {\r\n        setValence(Math.abs(evt.detail.output.valence * 100) || 0);\r\n        setArousal(Math.abs(evt.detail.output.arousal * 100) || 0);\r\n        resetTimeout();\r\n    }\r\n    function handleAttentionEvents (evt) {\r\n        if (evt.detail.output.attention > 0.1) {\r\n            setAttention(evt.detail.output.attention * 100 || 0);\r\n            resetTimeout();\r\n        }\r\n    }\r\n    function setAllToZero() {\r\n        setArousal(0);\r\n        setValence(0);\r\n        setAttention(0);\r\n    }\r\n    bindEvent();\r\n    \r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n    <p style={{fontSize:\"20px\"}}>Engagement Component:</p>\r\n    <div\r\nid=\"rangesContainer\"\r\n>\r\n<div className=\"rangeContainer\">\r\n  <div>\r\n    <div>\r\n      <input\r\n      type=\"range\"\r\n      min=\"1\"\r\n      max=\"100\"\r\n      value={arousal || 0}\r\n      onChange={()=>{}}\r\n      className=\"slider\"\r\n      color=\"#E29219\"\r\n    />\r\n    </div>\r\n    <span id=\"title\">Arousal</span>\r\n  </div>\r\n</div>\r\n<div className=\"rangeContainer\">\r\n  <div>\r\n    <div>\r\n      <input\r\n      type=\"range\"\r\n      min=\"1\"\r\n      max=\"100\"\r\n      value={valence || 0}\r\n      onChange={()=>{}}\r\n      className=\"slider\"\r\n      color=\"#19E282\"\r\n    />\r\n    </div>\r\n    <span id=\"title\">Valence</span>\r\n  </div>\r\n</div>\r\n<div className=\"rangeContainer\">\r\n  <div>\r\n    <div>\r\n      <input\r\n      type=\"range\"\r\n      min=\"1\"\r\n      max=\"100\"\r\n      value={attention || 0}\r\n      onChange={()=>{}}\r\n      className=\"slider\"\r\n      color=\"#FFFFFF\"\r\n    />\r\n    </div>\r\n    <span id=\"title\">Attention</span>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n    </>\r\n    \r\n  );\r\n};\r\n\r\nexport default EngagementComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}