{"ast":null,"code":"import { source as injectedSource } from '../generated/injected.js';\n/**\n * @internal\n */\nexport class ScriptInjector {\n  #updated = false;\n  #amendments = new Set();\n  // Appends a statement of the form `(PuppeteerUtil) => {...}`.\n  append(statement) {\n    this.#update(() => {\n      this.#amendments.add(statement);\n    });\n  }\n  pop(statement) {\n    this.#update(() => {\n      this.#amendments.delete(statement);\n    });\n  }\n  inject(inject) {\n    let force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (this.#updated || force) {\n      inject(this.#get());\n    }\n    this.#updated = false;\n  }\n  #update(callback) {\n    callback();\n    this.#updated = true;\n  }\n  #get() {\n    return `(() => {\n      const module = {};\n      ${injectedSource}\n      ${[...this.#amendments].map(statement => {\n      return `(${statement})(module.exports.default);`;\n    }).join('')}\n      return module.exports.default;\n    })()`;\n  }\n}\n/**\n * @internal\n */\nexport const scriptInjector = new ScriptInjector();","map":{"version":3,"mappings":"AAAA,SAAQA,MAAM,IAAIC,cAAc,QAAO,0BAA0B;AAEjE;;;AAGA,OAAM,MAAOC,cAAc;EACzB,QAAQ,GAAG,KAAK;EAChB,WAAW,GAAG,IAAIC,GAAG,EAAU;EAE/B;EACAC,MAAM,CAACC,SAAiB;IACtB,IAAI,CAAC,OAAO,CAAC,MAAK;MAChB,IAAI,CAAC,WAAW,CAACC,GAAG,CAACD,SAAS,CAAC;IACjC,CAAC,CAAC;EACJ;EAEAE,GAAG,CAACF,SAAiB;IACnB,IAAI,CAAC,OAAO,CAAC,MAAK;MAChB,IAAI,CAAC,WAAW,CAACG,MAAM,CAACH,SAAS,CAAC;IACpC,CAAC,CAAC;EACJ;EAEAI,MAAM,CAACA,MAAgC,EAAe;IAAA,IAAbC,KAAK,uEAAG,KAAK;IACpD,IAAI,IAAI,CAAC,QAAQ,IAAIA,KAAK,EAAE;MAC1BD,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;;IAErB,IAAI,CAAC,QAAQ,GAAG,KAAK;EACvB;EAEA,OAAO,CAACE,QAAoB;IAC1BA,QAAQ,EAAE;IACV,IAAI,CAAC,QAAQ,GAAG,IAAI;EACtB;EAEA,IAAI;IACF,OAAO;;QAEHV,cAAc;QACd,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CACpBW,GAAG,CAACP,SAAS,IAAG;MACf,OAAO,IAAIA,SAAS,4BAA4B;IAClD,CAAC,CAAC,CACDQ,IAAI,CAAC,EAAE,CAAC;;SAER;EACP;;AAGF;;;AAGA,OAAO,MAAMC,cAAc,GAAG,IAAIZ,cAAc,EAAE","names":["source","injectedSource","ScriptInjector","Set","append","statement","add","pop","delete","inject","force","callback","map","join","scriptInjector"],"sources":["D:\\Julieth-Campos\\PSO\\node_modules\\puppeteer-core\\src\\common\\ScriptInjector.ts"],"sourcesContent":["import {source as injectedSource} from '../generated/injected.js';\n\n/**\n * @internal\n */\nexport class ScriptInjector {\n  #updated = false;\n  #amendments = new Set<string>();\n\n  // Appends a statement of the form `(PuppeteerUtil) => {...}`.\n  append(statement: string): void {\n    this.#update(() => {\n      this.#amendments.add(statement);\n    });\n  }\n\n  pop(statement: string): void {\n    this.#update(() => {\n      this.#amendments.delete(statement);\n    });\n  }\n\n  inject(inject: (script: string) => void, force = false): void {\n    if (this.#updated || force) {\n      inject(this.#get());\n    }\n    this.#updated = false;\n  }\n\n  #update(callback: () => void): void {\n    callback();\n    this.#updated = true;\n  }\n\n  #get(): string {\n    return `(() => {\n      const module = {};\n      ${injectedSource}\n      ${[...this.#amendments]\n        .map(statement => {\n          return `(${statement})(module.exports.default);`;\n        })\n        .join('')}\n      return module.exports.default;\n    })()`;\n  }\n}\n\n/**\n * @internal\n */\nexport const scriptInjector = new ScriptInjector();\n"]},"metadata":{},"sourceType":"module"}