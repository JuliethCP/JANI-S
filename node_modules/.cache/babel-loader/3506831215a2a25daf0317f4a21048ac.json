{"ast":null,"code":"import { Source } from \"./Source\";\n\n/*Prevents globalThis being reported as an error by eslint*/\n/*global globalThis*/\n\n// Singleton\nlet aiSdkInstance;\nlet source;\nasync function downloadAiSdk() {\n  if (globalThis.CY) {\n    throw new Error(\"AI-SDK has already been downloaded.\");\n  }\n}\nasync function initAiSdk() {\n  if (aiSdkInstance) {\n    throw new Error(\"An instance of the AI-SDK is already running.\");\n  }\n  source = new Source();\n  aiSdkInstance = await globalThis.CY.loader()\n  // TODO INSERT YOUR LICENSE KEY HERE\n  .licenseKey(\"3afd07bfe6e9b3aed20a3ea33a4656b6cc83a134bedc\") // <--- ##############\n  .source(source).addModule(globalThis.CY.modules().FACE_DETECTOR.name).addModule(globalThis.CY.modules().FACE_EMOTION.name, {\n    enableBalancer: false,\n    // example of custom setting\n    smoothness: 0.5\n  }).addModule(globalThis.CY.modules().FACE_GENDER.name, {}).addModule(globalThis.CY.modules().FACE_AGE.name, {\n    windowSizeMs: 4000,\n    // example of custom setting\n    maxVarianceCutoff: Math.pow(7, 2),\n    numericalStability: 1\n  }).addModule(globalThis.CY.modules().FACE_FEATURES.name, {}).addModule(globalThis.CY.modules().FACE_POSITIVITY.name, {}).addModule(globalThis.CY.modules().FACE_POSE.name, {}).addModule(globalThis.CY.modules().FACE_AROUSAL_VALENCE.name, {\n    smoothness: 0.9 // example of custom setting\n  }).addModule(globalThis.CY.modules().FACE_ATTENTION.name, {}).addModule(globalThis.CY.modules().DATA_AGGREGATOR.name, {}).load();\n}\n\n/**\r\n * Loads the MorphCast SDK, only the first time, then returns the controls for the start / stop\r\n *\r\n * @returns {Promise<{getModule: *, stop: *, CY: *, start: *, source: *}>}\r\n */\nexport async function getAiSdkControls() {\n  if (globalThis.CY === undefined) {\n    await downloadAiSdk();\n  }\n  if (aiSdkInstance === undefined) {\n    await initAiSdk();\n  }\n  const {\n    start,\n    stop,\n    getModule\n  } = aiSdkInstance;\n  return {\n    start,\n    stop,\n    getModule,\n    source,\n    CY: globalThis.CY\n  };\n}","map":{"version":3,"names":["Source","aiSdkInstance","source","downloadAiSdk","globalThis","CY","Error","initAiSdk","loader","licenseKey","addModule","modules","FACE_DETECTOR","name","FACE_EMOTION","enableBalancer","smoothness","FACE_GENDER","FACE_AGE","windowSizeMs","maxVarianceCutoff","Math","pow","numericalStability","FACE_FEATURES","FACE_POSITIVITY","FACE_POSE","FACE_AROUSAL_VALENCE","FACE_ATTENTION","DATA_AGGREGATOR","load","getAiSdkControls","undefined","start","stop","getModule"],"sources":["D:/Julieth-Campos/PSO/src/helpers/ai-sdk/loader.js"],"sourcesContent":["import { Source } from \"./Source\";\r\n\r\n\r\n/*Prevents globalThis being reported as an error by eslint*/\r\n/*global globalThis*/\r\n\r\n// Singleton\r\nlet aiSdkInstance;\r\nlet source;\r\n\r\nasync function downloadAiSdk() {\r\n  if (globalThis.CY) {\r\n    throw new Error(\"AI-SDK has already been downloaded.\");\r\n  }\r\n}\r\n\r\nasync function initAiSdk() {\r\n  if (aiSdkInstance) {\r\n    throw new Error(\"An instance of the AI-SDK is already running.\");\r\n  }\r\n  source = new Source();\r\n\r\n  aiSdkInstance = await globalThis.CY.loader()\r\n    // TODO INSERT YOUR LICENSE KEY HERE\r\n    .licenseKey(\"3afd07bfe6e9b3aed20a3ea33a4656b6cc83a134bedc\") // <--- ##############\r\n    .source(source)\r\n    .addModule(globalThis.CY.modules().FACE_DETECTOR.name)\r\n    .addModule(globalThis.CY.modules().FACE_EMOTION.name, {\r\n      enableBalancer: false, // example of custom setting\r\n      smoothness: 0.5,\r\n    })\r\n    .addModule(globalThis.CY.modules().FACE_GENDER.name, {})\r\n    .addModule(globalThis.CY.modules().FACE_AGE.name, {\r\n      windowSizeMs: 4000, // example of custom setting\r\n      maxVarianceCutoff: Math.pow(7, 2),\r\n      numericalStability: 1,\r\n    })\r\n    .addModule(globalThis.CY.modules().FACE_FEATURES.name, {})\r\n    .addModule(globalThis.CY.modules().FACE_POSITIVITY.name, {})\r\n    .addModule(globalThis.CY.modules().FACE_POSE.name, {})\r\n    .addModule(globalThis.CY.modules().FACE_AROUSAL_VALENCE.name, {\r\n      smoothness: 0.9, // example of custom setting\r\n    })\r\n    .addModule(globalThis.CY.modules().FACE_ATTENTION.name, {})\r\n    .addModule(globalThis.CY.modules().DATA_AGGREGATOR.name, {})\r\n    .load();\r\n}\r\n\r\n/**\r\n * Loads the MorphCast SDK, only the first time, then returns the controls for the start / stop\r\n *\r\n * @returns {Promise<{getModule: *, stop: *, CY: *, start: *, source: *}>}\r\n */\r\nexport async function getAiSdkControls() {\r\n  if (globalThis.CY === undefined) {\r\n    await downloadAiSdk();\r\n  }\r\n  if (aiSdkInstance === undefined) {\r\n    await initAiSdk();\r\n  }\r\n\r\n  const { start, stop, getModule } = aiSdkInstance;\r\n  return { start, stop, getModule, source, CY: globalThis.CY };\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;;AAGjC;AACA;;AAEA;AACA,IAAIC,aAAa;AACjB,IAAIC,MAAM;AAEV,eAAeC,aAAa,GAAG;EAC7B,IAAIC,UAAU,CAACC,EAAE,EAAE;IACjB,MAAM,IAAIC,KAAK,CAAC,qCAAqC,CAAC;EACxD;AACF;AAEA,eAAeC,SAAS,GAAG;EACzB,IAAIN,aAAa,EAAE;IACjB,MAAM,IAAIK,KAAK,CAAC,+CAA+C,CAAC;EAClE;EACAJ,MAAM,GAAG,IAAIF,MAAM,EAAE;EAErBC,aAAa,GAAG,MAAMG,UAAU,CAACC,EAAE,CAACG,MAAM;EACxC;EAAA,CACCC,UAAU,CAAC,8CAA8C,CAAC,CAAC;EAAA,CAC3DP,MAAM,CAACA,MAAM,CAAC,CACdQ,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACC,aAAa,CAACC,IAAI,CAAC,CACrDH,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACG,YAAY,CAACD,IAAI,EAAE;IACpDE,cAAc,EAAE,KAAK;IAAE;IACvBC,UAAU,EAAE;EACd,CAAC,CAAC,CACDN,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACM,WAAW,CAACJ,IAAI,EAAE,CAAC,CAAC,CAAC,CACvDH,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACO,QAAQ,CAACL,IAAI,EAAE;IAChDM,YAAY,EAAE,IAAI;IAAE;IACpBC,iBAAiB,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACjCC,kBAAkB,EAAE;EACtB,CAAC,CAAC,CACDb,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACa,aAAa,CAACX,IAAI,EAAE,CAAC,CAAC,CAAC,CACzDH,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACc,eAAe,CAACZ,IAAI,EAAE,CAAC,CAAC,CAAC,CAC3DH,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACe,SAAS,CAACb,IAAI,EAAE,CAAC,CAAC,CAAC,CACrDH,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACgB,oBAAoB,CAACd,IAAI,EAAE;IAC5DG,UAAU,EAAE,GAAG,CAAE;EACnB,CAAC,CAAC,CACDN,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACiB,cAAc,CAACf,IAAI,EAAE,CAAC,CAAC,CAAC,CAC1DH,SAAS,CAACN,UAAU,CAACC,EAAE,CAACM,OAAO,EAAE,CAACkB,eAAe,CAAChB,IAAI,EAAE,CAAC,CAAC,CAAC,CAC3DiB,IAAI,EAAE;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,gBAAgB,GAAG;EACvC,IAAI3B,UAAU,CAACC,EAAE,KAAK2B,SAAS,EAAE;IAC/B,MAAM7B,aAAa,EAAE;EACvB;EACA,IAAIF,aAAa,KAAK+B,SAAS,EAAE;IAC/B,MAAMzB,SAAS,EAAE;EACnB;EAEA,MAAM;IAAE0B,KAAK;IAAEC,IAAI;IAAEC;EAAU,CAAC,GAAGlC,aAAa;EAChD,OAAO;IAAEgC,KAAK;IAAEC,IAAI;IAAEC,SAAS;IAAEjC,MAAM;IAAEG,EAAE,EAAED,UAAU,CAACC;EAAG,CAAC;AAC9D"},"metadata":{},"sourceType":"module"}