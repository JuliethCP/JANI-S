{"ast":null,"code":"/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ARIAQueryHandler } from '../cdp/AriaQueryHandler.js';\nimport { customQueryHandlers } from './CustomQueryHandler.js';\nimport { PierceQueryHandler } from './PierceQueryHandler.js';\nimport { PQueryHandler } from './PQueryHandler.js';\nimport { TextQueryHandler } from './TextQueryHandler.js';\nimport { XPathQueryHandler } from './XPathQueryHandler.js';\nconst BUILTIN_QUERY_HANDLERS = {\n  aria: ARIAQueryHandler,\n  pierce: PierceQueryHandler,\n  xpath: XPathQueryHandler,\n  text: TextQueryHandler\n};\nconst QUERY_SEPARATORS = ['=', '/'];\n/**\n * @internal\n */\nexport function getQueryHandlerAndSelector(selector) {\n  for (const handlerMap of [customQueryHandlers.names().map(name => {\n    return [name, customQueryHandlers.get(name)];\n  }), Object.entries(BUILTIN_QUERY_HANDLERS)]) {\n    for (const [name, QueryHandler] of handlerMap) {\n      for (const separator of QUERY_SEPARATORS) {\n        const prefix = `${name}${separator}`;\n        if (selector.startsWith(prefix)) {\n          selector = selector.slice(prefix.length);\n          return {\n            updatedSelector: selector,\n            QueryHandler\n          };\n        }\n      }\n    }\n  }\n  return {\n    updatedSelector: selector,\n    QueryHandler: PQueryHandler\n  };\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;AAgBA,SAAQA,gBAAgB,QAAO,4BAA4B;AAE3D,SAAQC,mBAAmB,QAAO,yBAAyB;AAC3D,SAAQC,kBAAkB,QAAO,yBAAyB;AAC1D,SAAQC,aAAa,QAAO,oBAAoB;AAEhD,SAAQC,gBAAgB,QAAO,uBAAuB;AACtD,SAAQC,iBAAiB,QAAO,wBAAwB;AAExD,MAAMC,sBAAsB,GAAG;EAC7BC,IAAI,EAAEP,gBAAgB;EACtBQ,MAAM,EAAEN,kBAAkB;EAC1BO,KAAK,EAAEJ,iBAAiB;EACxBK,IAAI,EAAEN;CACE;AAEV,MAAMO,gBAAgB,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;AAEnC;;;AAGA,OAAM,SAAUC,0BAA0B,CAACC,QAAgB;EAIzD,KAAK,MAAMC,UAAU,IAAI,CACvBb,mBAAmB,CAACc,KAAK,EAAE,CAACC,GAAG,CAACC,IAAI,IAAG;IACrC,OAAO,CAACA,IAAI,EAAEhB,mBAAmB,CAACiB,GAAG,CAACD,IAAI,CAAE,CAAU;EACxD,CAAC,CAAC,EACFE,MAAM,CAACC,OAAO,CAACd,sBAAsB,CAAC,CACvC,EAAE;IACD,KAAK,MAAM,CAACW,IAAI,EAAEI,YAAY,CAAC,IAAIP,UAAU,EAAE;MAC7C,KAAK,MAAMQ,SAAS,IAAIX,gBAAgB,EAAE;QACxC,MAAMY,MAAM,GAAG,GAAGN,IAAI,GAAGK,SAAS,EAAE;QACpC,IAAIT,QAAQ,CAACW,UAAU,CAACD,MAAM,CAAC,EAAE;UAC/BV,QAAQ,GAAGA,QAAQ,CAACY,KAAK,CAACF,MAAM,CAACG,MAAM,CAAC;UACxC,OAAO;YAACC,eAAe,EAAEd,QAAQ;YAAEQ;UAAY,CAAC;;;;;EAKxD,OAAO;IAACM,eAAe,EAAEd,QAAQ;IAAEQ,YAAY,EAAElB;EAAa,CAAC;AACjE","names":["ARIAQueryHandler","customQueryHandlers","PierceQueryHandler","PQueryHandler","TextQueryHandler","XPathQueryHandler","BUILTIN_QUERY_HANDLERS","aria","pierce","xpath","text","QUERY_SEPARATORS","getQueryHandlerAndSelector","selector","handlerMap","names","map","name","get","Object","entries","QueryHandler","separator","prefix","startsWith","slice","length","updatedSelector"],"sources":["D:\\Julieth-Campos\\PSO\\node_modules\\puppeteer-core\\src\\common\\GetQueryHandler.ts"],"sourcesContent":["/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ARIAQueryHandler} from '../cdp/AriaQueryHandler.js';\n\nimport {customQueryHandlers} from './CustomQueryHandler.js';\nimport {PierceQueryHandler} from './PierceQueryHandler.js';\nimport {PQueryHandler} from './PQueryHandler.js';\nimport type {QueryHandler} from './QueryHandler.js';\nimport {TextQueryHandler} from './TextQueryHandler.js';\nimport {XPathQueryHandler} from './XPathQueryHandler.js';\n\nconst BUILTIN_QUERY_HANDLERS = {\n  aria: ARIAQueryHandler,\n  pierce: PierceQueryHandler,\n  xpath: XPathQueryHandler,\n  text: TextQueryHandler,\n} as const;\n\nconst QUERY_SEPARATORS = ['=', '/'];\n\n/**\n * @internal\n */\nexport function getQueryHandlerAndSelector(selector: string): {\n  updatedSelector: string;\n  QueryHandler: typeof QueryHandler;\n} {\n  for (const handlerMap of [\n    customQueryHandlers.names().map(name => {\n      return [name, customQueryHandlers.get(name)!] as const;\n    }),\n    Object.entries(BUILTIN_QUERY_HANDLERS),\n  ]) {\n    for (const [name, QueryHandler] of handlerMap) {\n      for (const separator of QUERY_SEPARATORS) {\n        const prefix = `${name}${separator}`;\n        if (selector.startsWith(prefix)) {\n          selector = selector.slice(prefix.length);\n          return {updatedSelector: selector, QueryHandler};\n        }\n      }\n    }\n  }\n  return {updatedSelector: selector, QueryHandler: PQueryHandler};\n}\n"]},"metadata":{},"sourceType":"module"}