{"ast":null,"code":"/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { homedir } from 'os';\nimport { join } from 'path';\nimport { cosmiconfigSync } from 'cosmiconfig';\n/**\n * @internal\n */\nfunction isSupportedProduct(product) {\n  switch (product) {\n    case 'chrome':\n    case 'firefox':\n      return true;\n    default:\n      return false;\n  }\n}\n/**\n * @internal\n */\nexport const getConfiguration = () => {\n  const result = cosmiconfigSync('puppeteer').search();\n  const configuration = result ? result.config : {};\n  configuration.logLevel = process.env['PUPPETEER_LOGLEVEL'] ?? process.env['npm_config_LOGLEVEL'] ?? process.env['npm_package_config_LOGLEVEL'] ?? configuration.logLevel ?? 'warn';\n  // Merging environment variables.\n  configuration.defaultProduct = process.env['PUPPETEER_PRODUCT'] ?? process.env['npm_config_puppeteer_product'] ?? process.env['npm_package_config_puppeteer_product'] ?? configuration.defaultProduct ?? 'chrome';\n  configuration.executablePath = process.env['PUPPETEER_EXECUTABLE_PATH'] ?? process.env['npm_config_puppeteer_executable_path'] ?? process.env['npm_package_config_puppeteer_executable_path'] ?? configuration.executablePath;\n  // Default to skipDownload if executablePath is set\n  if (configuration.executablePath) {\n    configuration.skipDownload = true;\n  }\n  // Set skipDownload explicitly or from default\n  configuration.skipDownload = Boolean(process.env['PUPPETEER_SKIP_DOWNLOAD'] ?? process.env['npm_config_puppeteer_skip_download'] ?? process.env['npm_package_config_puppeteer_skip_download'] ?? configuration.skipDownload);\n  // Prepare variables used in browser downloading\n  if (!configuration.skipDownload) {\n    configuration.browserRevision = process.env['PUPPETEER_BROWSER_REVISION'] ?? process.env['npm_config_puppeteer_browser_revision'] ?? process.env['npm_package_config_puppeteer_browser_revision'] ?? configuration.browserRevision;\n    const downloadHost = process.env['PUPPETEER_DOWNLOAD_HOST'] ?? process.env['npm_config_puppeteer_download_host'] ?? process.env['npm_package_config_puppeteer_download_host'];\n    if (downloadHost && configuration.logLevel === 'warn') {\n      console.warn(`PUPPETEER_DOWNLOAD_HOST is deprecated. Use PUPPETEER_DOWNLOAD_BASE_URL instead.`);\n    }\n    configuration.downloadBaseUrl = process.env['PUPPETEER_DOWNLOAD_BASE_URL'] ?? process.env['npm_config_puppeteer_download_base_url'] ?? process.env['npm_package_config_puppeteer_download_base_url'] ?? configuration.downloadBaseUrl ?? downloadHost;\n    configuration.downloadPath = process.env['PUPPETEER_DOWNLOAD_PATH'] ?? process.env['npm_config_puppeteer_download_path'] ?? process.env['npm_package_config_puppeteer_download_path'] ?? configuration.downloadPath;\n  }\n  configuration.cacheDirectory = process.env['PUPPETEER_CACHE_DIR'] ?? process.env['npm_config_puppeteer_cache_dir'] ?? process.env['npm_package_config_puppeteer_cache_dir'] ?? configuration.cacheDirectory ?? join(homedir(), '.cache', 'puppeteer');\n  configuration.temporaryDirectory = process.env['PUPPETEER_TMP_DIR'] ?? process.env['npm_config_puppeteer_tmp_dir'] ?? process.env['npm_package_config_puppeteer_tmp_dir'] ?? configuration.temporaryDirectory;\n  configuration.experiments ??= {};\n  // Validate configuration.\n  if (!isSupportedProduct(configuration.defaultProduct)) {\n    throw new Error(`Unsupported product ${configuration.defaultProduct}`);\n  }\n  return configuration;\n};","map":{"version":3,"mappings":"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","names":["homedir","join","cosmiconfigSync","isSupportedProduct","product","getConfiguration","result","search","configuration","config","logLevel","process","env","defaultProduct","executablePath","skipDownload","Boolean","browserRevision","downloadHost","console","warn","downloadBaseUrl","downloadPath","cacheDirectory","temporaryDirectory","experiments","Error"],"sources":["D:\\Julieth-Campos\\PSO\\node_modules\\puppeteer\\src\\getConfiguration.ts"],"sourcesContent":["/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {homedir} from 'os';\nimport {join} from 'path';\n\nimport {cosmiconfigSync} from 'cosmiconfig';\nimport type {Configuration, Product} from 'puppeteer-core';\n\n/**\n * @internal\n */\nfunction isSupportedProduct(product: unknown): product is Product {\n  switch (product) {\n    case 'chrome':\n    case 'firefox':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * @internal\n */\nexport const getConfiguration = (): Configuration => {\n  const result = cosmiconfigSync('puppeteer').search();\n  const configuration: Configuration = result ? result.config : {};\n\n  configuration.logLevel = (process.env['PUPPETEER_LOGLEVEL'] ??\n    process.env['npm_config_LOGLEVEL'] ??\n    process.env['npm_package_config_LOGLEVEL'] ??\n    configuration.logLevel ??\n    'warn') as 'silent' | 'error' | 'warn';\n\n  // Merging environment variables.\n  configuration.defaultProduct = (process.env['PUPPETEER_PRODUCT'] ??\n    process.env['npm_config_puppeteer_product'] ??\n    process.env['npm_package_config_puppeteer_product'] ??\n    configuration.defaultProduct ??\n    'chrome') as Product;\n\n  configuration.executablePath =\n    process.env['PUPPETEER_EXECUTABLE_PATH'] ??\n    process.env['npm_config_puppeteer_executable_path'] ??\n    process.env['npm_package_config_puppeteer_executable_path'] ??\n    configuration.executablePath;\n\n  // Default to skipDownload if executablePath is set\n  if (configuration.executablePath) {\n    configuration.skipDownload = true;\n  }\n\n  // Set skipDownload explicitly or from default\n  configuration.skipDownload = Boolean(\n    process.env['PUPPETEER_SKIP_DOWNLOAD'] ??\n      process.env['npm_config_puppeteer_skip_download'] ??\n      process.env['npm_package_config_puppeteer_skip_download'] ??\n      configuration.skipDownload\n  );\n\n  // Prepare variables used in browser downloading\n  if (!configuration.skipDownload) {\n    configuration.browserRevision =\n      process.env['PUPPETEER_BROWSER_REVISION'] ??\n      process.env['npm_config_puppeteer_browser_revision'] ??\n      process.env['npm_package_config_puppeteer_browser_revision'] ??\n      configuration.browserRevision;\n\n    const downloadHost =\n      process.env['PUPPETEER_DOWNLOAD_HOST'] ??\n      process.env['npm_config_puppeteer_download_host'] ??\n      process.env['npm_package_config_puppeteer_download_host'];\n\n    if (downloadHost && configuration.logLevel === 'warn') {\n      console.warn(\n        `PUPPETEER_DOWNLOAD_HOST is deprecated. Use PUPPETEER_DOWNLOAD_BASE_URL instead.`\n      );\n    }\n\n    configuration.downloadBaseUrl =\n      process.env['PUPPETEER_DOWNLOAD_BASE_URL'] ??\n      process.env['npm_config_puppeteer_download_base_url'] ??\n      process.env['npm_package_config_puppeteer_download_base_url'] ??\n      configuration.downloadBaseUrl ??\n      downloadHost;\n\n    configuration.downloadPath =\n      process.env['PUPPETEER_DOWNLOAD_PATH'] ??\n      process.env['npm_config_puppeteer_download_path'] ??\n      process.env['npm_package_config_puppeteer_download_path'] ??\n      configuration.downloadPath;\n  }\n\n  configuration.cacheDirectory =\n    process.env['PUPPETEER_CACHE_DIR'] ??\n    process.env['npm_config_puppeteer_cache_dir'] ??\n    process.env['npm_package_config_puppeteer_cache_dir'] ??\n    configuration.cacheDirectory ??\n    join(homedir(), '.cache', 'puppeteer');\n  configuration.temporaryDirectory =\n    process.env['PUPPETEER_TMP_DIR'] ??\n    process.env['npm_config_puppeteer_tmp_dir'] ??\n    process.env['npm_package_config_puppeteer_tmp_dir'] ??\n    configuration.temporaryDirectory;\n\n  configuration.experiments ??= {};\n\n  // Validate configuration.\n  if (!isSupportedProduct(configuration.defaultProduct)) {\n    throw new Error(`Unsupported product ${configuration.defaultProduct}`);\n  }\n\n  return configuration;\n};\n"]},"metadata":{},"sourceType":"module"}